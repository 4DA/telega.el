Идеи
====

Вести в 'Saved Messages' документ, в котором хранятся список
"<buffer-name> . <telegram-id>" таким образом можно будет хранить
файлы в телеграме.  Но нужно проверить можно ли пересохранять файлы с
тем же id.

Иконки - all-the-icons package

=============
 Root buffer
=============

Можно засетапить header/mode-line чтобы показывать состояние
telega-server, и самарайз то что происходит

Widget based buffer

State:  Connecting..
Search: [here is something to search]

Recent Chats
------------
                           
[Saved Messages                  4]p
    14:15V some photo here
[Pig's Thursday               32@2]p
    17:15W @zevlg> last message in chatroom
|Vasya Pupkin                    1|
    11:11V hello there
#FBI leaks                    11@1#
    10:04:18V just wipe the file and forget
[Telegram Resistance             1]
    14:14V @vpupkin> Can you see it?
(Seliger                       4@1)
    MonW @vpupkin> I will not go

Количество сообщений (справа от title) - ВСЕГО[@MENTIONS]

|name    | - private chat with user
(name ...) - basic groups
[name ...] - super groups
#name    # - secret chat
<name ...> - channels
{name ...} - bots

Символ о статусе доставки сообщения возле времени
O - В процессе доставки на сервер
V - Одна галка
W - Двойная галка

Символы после title чата
p - pinned  -- Unicode Character 'PUSHPIN' (U+1F4CC) UTF-8 (hex): 0xF0 0x9F 0x93 0x8C (f09f938c)
* - online
o - away
v - verified (+4277 for example)

Дата:
- Если сегодня, то формат ЧАС:МИНУТА
- Eсли не на этой неделе то трёхбуквенный ДЕНЬ НЕДЕЛИ
- Если другое то ДЕНЬ:МЕСЯЦ:ГОД (год двухбуквенный)

Bots
----

Same as in chats, but only bots

Users
-----

PIC Vasya Pupkin @vpupkin     2    last seen recently
   14:15V some photo here
PIC Evgeny Zajcev @zevlg           last seen long ago
   FriW message from me        

Channels
--------

Same as in chats, but only channels

Tabbed design
=============

Pinned
------

[Saved Messages                  4]p
    14:15V some photo here
...

[Chats 10] [Secrets N] [Groups 10] [Bots 3] [Users 4] [Channels 4]
----------'           `-------------------------------------------

[Pig's Thursday               32@2]
    17:15W @zevlg> last message in chatroom
....

Жирным выделять активную вкладку

Filter based design ala ibuffer
===============================

Просто список чатов и накладывать на него всевозможные фильтры

Возможность создавать кастомные фильтры

Фильтр - предикат, который на вход получает чат и возвращает non-nil
если чат нужно включить в список

State: Conn Ready
Search: [search String]
Filter: (custom Groups&Users) (unread)
Custom: [All 10] [Groups&Users 10] [Secrets N]
        [Groups 10] [Bots 3] [Users 4] [Channels 4]

Тут список чатов,

Filters:
  (type CHAT-TYPE) - by telega-chat--type
  (custom FILTER-NAME) - by custom filter type
  title      - по title чата
  unread     - чаты с непрочитаными сообщениями
  mention    - чаты с упоминанием
 
Searching in telega root
========================

State: Conn Ready
Search: [text to search               ]

Global
------

User1
User2
Channel1

Chats and Users
---------------
listing ...
listing ..

Messages
--------

User1 msg
User2 msg2


=============
 Chat buffer
=============

- use lui based mode

17:15W @vpupkin> message from v pupkin
17:19V @zevlg> message from me, highlighted with different background color
------------------------[text here for page cut]------------------------

- Поддержка мультилайна по Ctrl-Enter

TODO: подумать чо как тут должно выглядить
